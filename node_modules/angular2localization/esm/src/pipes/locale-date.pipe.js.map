{"version":3,"sources":["src/pipes/locale-date.pipe.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;;;;;;;;;;OAEI,EAAE,IAAI,EAAiB,MAAM,eAAe;OAC5C,EAAE,WAAW,EAAE,aAAa,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,iCAAiC;OAChG,EAAE,aAAa,EAAE,MAAM,iCAAiC;OACxD,EAAE,gBAAgB,EAAE,MAAM,uCAAuC;OACjE,EAAE,4BAA4B,EAAE,MAAM,2DAA2D;OAGjG,EAAE,WAAW,EAAE,MAAM,0BAA0B;AAEtD;;GAEG;AAgDH;;IAaI;;;;;;;OAOG;IACI,SAAS,CAAC,KAAU,EAAE,aAAqB,EAAE,OAAO,GAAW,YAAY;QAE9E,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAAC,CAAC;QAEpC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAExB,MAAM,IAAI,4BAA4B,CAAC,gBAAc,EAAE,KAAK,CAAC,CAAC;QAElE,CAAC;QAED,EAAE,CAAC,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEjC,KAAK,GAAG,WAAW,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;QAEtE,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEzB,KAAK,GAAS,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAEnD,CAAC;QAED,+BAA+B;QAC/B,EAAE,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YAEpD,EAAE,CAAC,CAAC,gBAAgB,CAAC,QAAQ,CAAC,gBAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;gBAE7D,OAAO,GAAW,gBAAgB,CAAC,GAAG,CAAC,gBAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAE5E,CAAC;YAED,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;QAE/D,CAAC;QAED,yCAAyC;QACzC,MAAM,CAAC,KAAK,CAAC;IAEjB,CAAC;IAEO,QAAQ,CAAC,GAAQ;QAErB,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAAC,CAAC;QAEjE,EAAE,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAAC,CAAC;QAE7E,MAAM,CAAC,KAAK,CAAC;IAEjB,CAAC;AAEL,CAAC;AAnEiB,sBAAO,GAA8B;IAC/C,QAAQ,EAAE,UAAU;IACpB,OAAO,EAAE,OAAO;IAChB,UAAU,EAAE,YAAY;IACxB,UAAU,EAAE,QAAQ;IACpB,YAAY,EAAE,OAAO;IACrB,WAAW,EAAE,KAAK;IAClB,YAAY,EAAE,KAAK;IACnB,WAAW,EAAE,IAAI;CACpB,CAAC;AA1DN;IAAC,IAAI,CAAC;QACF,IAAI,EAAE,YAAY;QAClB,IAAI,EAAE,IAAI;KACb,CAAC;;kBAAA;AAiHD","file":"src/pipes/locale-date.pipe.js","sourcesContent":["/**\r\n * ANGULAR 2 LOCALIZATION\r\n * An Angular 2 library to translate messages, dates and numbers.\r\n * Written by Roberto Simonetti.\r\n * MIT license.\r\n * https://github.com/robisim74/angular2localization\r\n */\r\n\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { DateWrapper, NumberWrapper, isBlank, isDate, isString } from '@angular/common/src/facade/lang';\r\nimport { DateFormatter } from '@angular/common/src/facade/intl';\r\nimport { StringMapWrapper } from '@angular/common/src/facade/collection';\r\nimport { InvalidPipeArgumentException } from '@angular/common/src/pipes/invalid_pipe_argument_exception';\r\n\r\n// Services.\r\nimport { IntlSupport } from '../services/Intl-support';\r\n\r\n/**\r\n * 'localedate' pipe function.\r\n */\r\n@Pipe({\r\n    name: 'localedate',\r\n    pure: true\r\n})\r\n\r\n/**\r\n * LocaleDatePipe class.\r\n * Localizes dates.\r\n * \r\n * Getting the local date:\r\n * \r\n * expression | localedate[:defaultLocale[:format]]\r\n * \r\n * where 'expression' is a date object or a number (milliseconds since UTC epoch) and 'format' indicates which date/time components to include.\r\n * \r\n * For example, to get the local date, add in the template:\r\n * \r\n * {{ today | localedate:defaultLocale:'fullDate' }}\r\n * \r\n * and include in the component:\r\n * \r\n * import {LocaleService} from 'angular2localization/angular2localization';\r\n * import {LocaleDatePipe} from 'angular2localization/angular2localization';\r\n * \r\n * @Component({\r\n *     ...\r\n *     pipes: [LocaleDatePipe]\r\n * })\r\n * \r\n * export class AppComponent {\r\n * \r\n *     constructor(public locale: LocaleService) {\r\n *         ...\r\n *     }\r\n * \r\n *     // Gets the default locale.\r\n *     get defaultLocale(): string {\r\n *\r\n *         return this.locale.getDefaultLocale();\r\n *      \r\n *     }\r\n * \r\n * }\r\n * \r\n * @author Roberto Simonetti\r\n * @see Angular 2 DatePipe for further information\r\n */\r\nexport class LocaleDatePipe implements PipeTransform {\r\n\r\n    public static ALIASES: { [key: string]: String } = {\r\n        'medium': 'yMMMdjms',\r\n        'short': 'yMdjm',\r\n        'fullDate': 'yMMMMEEEEd',\r\n        'longDate': 'yMMMMd',\r\n        'mediumDate': 'yMMMd',\r\n        'shortDate': 'yMd',\r\n        'mediumTime': 'jms',\r\n        'shortTime': 'jm'\r\n    };\r\n\r\n    /**\r\n     * LocaleDatePipe transform method.\r\n     * \r\n     * @param value The date to be localized\r\n     * @param defaultLocale The default locale\r\n     * @param pattern The format of the date\r\n     * @return The locale date\r\n     */\r\n    public transform(value: any, defaultLocale: string, pattern: string = 'mediumDate'): string {\r\n\r\n        if (isBlank(value)) { return null; }\r\n\r\n        if (!this.supports(value)) {\r\n\r\n            throw new InvalidPipeArgumentException(LocaleDatePipe, value);\r\n\r\n        }\r\n\r\n        if (NumberWrapper.isNumeric(value)) {\r\n\r\n            value = DateWrapper.fromMillis(NumberWrapper.parseInt(value, 10));\r\n\r\n        } else if (isString(value)) {\r\n\r\n            value = <Date>DateWrapper.fromISOString(value);\r\n\r\n        }\r\n\r\n        // Checks for support for Intl.\r\n        if (IntlSupport.DateTimeFormat(defaultLocale) == true) {\r\n\r\n            if (StringMapWrapper.contains(LocaleDatePipe.ALIASES, pattern)) {\r\n\r\n                pattern = <string>StringMapWrapper.get(LocaleDatePipe.ALIASES, pattern);\r\n\r\n            }\r\n\r\n            return DateFormatter.format(value, defaultLocale, pattern);\r\n\r\n        }\r\n\r\n        // Returns the date without localization.\r\n        return value;\r\n\r\n    }\r\n\r\n    private supports(obj: any): boolean {\r\n\r\n        if (isDate(obj) || NumberWrapper.isNumeric(obj)) { return true; }\r\n\r\n        if (isString(obj) && isDate(DateWrapper.fromISOString(obj))) { return true; }\r\n\r\n        return false;\r\n\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"/source/"}